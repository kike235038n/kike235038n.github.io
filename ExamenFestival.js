const bd_juego = [
    {

        id: 0,
        pregunta: " She______ ready for the meeting?",
        op0: "a) Am",
        op1: "b) Are",
        op2: "c)Is ",
        correcta: "2"
    },
    {
        id: 1,
        pregunta: " _______ your sister play the guitar?",
        op0: "a) Do",
        op1: "b) Did",
        op2: "c) Does",
        correcta: "2"
    },
    {
        id: 2,
        pregunta: "The sun _____ in the east?",
        op0: "a) Rises",
        op1: "b) Rise",
        op2: "c) Rising",
        correcta: "0"
    },
    {
        id: 3,
        pregunta: " Charlie _______ on weekends",
        op0: "a) Doesn't work",
        op1: "b) Doesn't works",
        op2: "c) Don't work",
        correcta: "0"
    },
    {
        id: 4,
        pregunta: " _______ is your best friend? Maria",
        op0: "a) Why",
        op1: "b) When",
        op2: "c) Who",
        correcta: "2"
    },
    {
        id: 5,
        pregunta: " _______ do you get to school? I get to school by bus",
        op0: "a) How",
        op1: "b) What",
        op2: "c) Where",
        correcta: "0"
    },
    {
        id: 6,
        pregunta: " The cat is licking _______ paws.",
        op0: "a) Her",
        op1: "b) Its",
        op2: "c) His",
        correcta: "1"
    },
    {
        id: 7,
        pregunta: " The ______ chocolate.",
        op0: "a) Hot, delicious",
        op1: "b) Delicius, hot",
        op2: "c) Hottest, delicious",
        correcta: "1"
    },
    {
        id: 8,
        pregunta: " _____ front yard is beautiful.",
        op0: "a) A",
        op1: "b) The",
        op2: "c) An",
        correcta: "1"
    },
    {
        id: 9,
        pregunta: " We have _____ hour to finish the Project.",
        op0: "a) A",
        op1: " b) The",
        op2: "c) An",
        correcta: "2"
    },
    {
        id: 10,
        pregunta: " _____ bags of chips are there on the table?",
        op0: "a) How many",
        op1: "b) How much",
        op2: "c) Is there",
        correcta: "0"
    },
    {
        id: 11,
        pregunta: " ______ chicken do we have?",
        op0: "a) How Many",
        op1: "b)  How Much",
        op2: "c) Are there",
        correcta: "1"
    },
    {
        id: 12,
        pregunta: " How many _____ do you have?",
        op0: "a) Childs",
        op1: "b) Childrens",
        op2: "c) Children",
        correcta: "2"
    },
    {
        id: 13,
        pregunta: " The police officer is ___ the cars.",
        op0: "a) Stoping",
        op1: "b) Stopping",
        op2: "c) Stops",
        correcta: "1"
    },
    {
        id: 14,
        pregunta: " I live ____ Oxford Street ____ London.",
        op0: "a) On / In",
        op1: "b) In / On",
        op2: "c) At / Under",
        correcta: "0"
    },
    {
        id: 15,
        pregunta: " Don't make ___ noise. She wants to get ___ sleep.",
        op0: "a) Any / Some",
        op1: "b) Some / Any",
        op2: "c) Many / A lot",
        correcta: "0"
    },
    
    {
        id: 16,
        pregunta: " 'Hi, Chris. ____ is my friend Jona.'' Hi, Jona. Nice to meet you'",
        op0: "a) That",
        op1: "b) These",
        op2: "c) This",
        correcta: "0"
    },
    {
        id: 17,
        pregunta: " I'm hungry . _______ there any apple in your backpack? No, there______. ",
        op0: "a) Are / Aren't",
        op1: "b) Is / Aren't ",
        op2: "c) Is / Isn't",
        correcta: "2"
    },
    {
        id: 18,
        pregunta: " I need to find Mandy. I took _____ jacket by mistake. ",
        op0: "a) Her's",
        op1: "b) Its",
        op2: "c) Her",
        correcta: "2"
    },
    {
        id: 19,
        pregunta: " Do you ______ the avocado? ",
        op0: "a) Like",
        op1: "b) Likes",
        op2: "c) Linking",
        correcta: "0"
    },
    {
        id: 20,
        pregunta: ".- He _____ swim. He's afraid of water. ",
        op0: "a) Can",
        op1: "b) Cans",
        op2: "c) Can't",
        correcta: "2"
    },
    {
        id: 21,
        pregunta: " We should _______ begin tests in 48 hours",
        op0: "a) Be able to",
        op1: "b) Will be able to",
        op2: "c) Are able to",
        correcta: "1"
    },
    {
        id: 22,
        pregunta: " They _______ get home before midnigth. ",
        op0: "a) Go",
        op1: "b) Never",
        op2: "c) Always go",
        correcta: "2"
    },
    {
        id: 23,
        pregunta: " The children _______ stay up late. ",
        op0: "a) Sometimes ",
        op1: "b)  Rarely go",
        op2: "c) Go",
        correcta: "0"
    },{
        id: 24,
        pregunta: " Betty rarely _______ in her rom working.",
        op0: "a) was",
        op1: "b) were",
        correcta: "0"
    },
    {
        id: 25,
        pregunta: "_______ we good at football",
        op0: "a) was",
        op1: "b) were",
        correcta: "1"
    },
    {
        id: 26,
        pregunta: "I  ______ to work very hard.",
        op0:"a) used to",
        op1:"b) use to",
        correcta: "0"
    },
    {
        id: 27,
        pregunta:" Did they _______ to swim on weekends?",
        op0:"a) used to",
        op1:"b) use to",
        correcta:"1"
    },
    {
        id: 28,
        pregunta: "Marcus _____ a lot of money yesterday, he _____ an expensive car.",
        op0: "a)  spend/buy",
        op1: "b) spent/buys",
        op2:"c)spent/bought",
         correcta: "2"
    },
    {
        id: 29,
        pregunta: " Nobody ______ the school uniforms yesterday.",
        op0: "a)  didn’t wear",
        op1: "b)  wore ",
        op2:"c)wore didn’t wore",
         correcta: "1"
    },
    {
        id: 30,
        pregunta: " The window was open and the birds ____ out of the room. ",
        op0: "a)  flew ",
        op1: "b)  flewed  ",
        op2: "c) flewn ",
        correcta: "0"
    },
    {
        id: 31,
        pregunta: "Harrison his math test 2 days ago? ",
        op0:"a)  Does/fail",
        op1:"b)  Is/ failing ",
        op2:"c)  Did/fail ",
        correcta: "2"
    },
    {
        id: 32,
        pregunta:"The film wasn’t very good. I _____ it!. ",
        op0:"a) enjoy ",
        op1:"b) didn’t enjoy ",
        op2:"c) don’t enjoy ",
        correcta:"1"
    },
    {
        id: 33,
        pregunta: "I ____ the kitchen floor yesterday ",
        op0:"a)  moped",
        op1:"b)  mopped  ",
        op2:"b)  was mopped ",
        correcta: "1"
    },
    {
        id: 34,
        pregunta:" That book is ________________ this book.",
        op0:"a)  most interesting ",
        op1:"b) interesting  ",
        op2:"c) more interesting than ",
        correcta:"2"
    },
    {
        id: 35,
        pregunta:" Pedro is _________________in the classroom. ",
        op0:"a)   shortest  ",
        op1:"b) the shortest  ",
        op2:"c) more short",
        correcta:"1"
    },
    {
        id: 36,
        pregunta:" The elephant is ______________ than mouse.",
        op0:"a) more biggest  ",
        op1:"b) more bigger ",
        op2:"c) bigger ",
        correcta:"2"
    },
    {
        id: 37,
        pregunta:" Paco is the _________________ guy of my class. ",
        op0:"a) funny  ",
        op1:"b) most funniest ",
        op2:"c) funniest ",
        correcta:"2"
    },
    {
        id: 38,
        pregunta:" Caviar is the _________________food in the world.  ",
        op0:"a)  more expensive  ",
        op1:"b) most expensive ",
        op2:"c) the expensive ",
        correcta:"1"
    },
    {
        id: 39,
        pregunta:"He ________________________ fun with his Friends.  ",
        op0:"a)  Was having  ",
        op1:"b) Were having  ",
        op2:"c) Was have ",
        correcta:"0"
    },
    {
        id: 40,
        pregunta:"We ______________________ dinner. ",
        op0:"a)  Weren t making ",
        op1:"b) Wasn ́t making  ",
        op2:"c)  Weren ́t make ",
        correcta:"0"
    },
    {
        id: 41,
        pregunta:"Susan ___________ pizza. ",
        op0:"a)  Were eat ",
        op1:"b) Was eating  ",
        op2:"c)  Were eating ",
        correcta:"1"
    },
    {
        id: 42,
        pregunta:"She gave _________ a birthday gift. I really like it. ",
        op0:"a) him",
        op1:"b) my  ",
        op2:"c) me ",
        correcta:"2"
    },
    {
        id: 43,
        pregunta:"I need to find my book. Where did you put ______?.",
        op0:"a) it",
        op1:"b) them",
        op2:"c) its",
        correcta:"0"
    },
    {
        id: 44,
        pregunta:" Do you feel okay? Can I help _______?.",
        op0:"a) your",
        op1:"b) me",
        op2:"c) you",
        correcta:"2"
    },
    {
        id: 45,
        pregunta:"_____ I borrow a pen, please?.",
        op0:"a) would",
        op1:"b) could",
        op2:"c) will",
        correcta:"1"
    },
    {
        id: 46,
        pregunta:"We _____ watch the movie las nigth, our tv was broken.",
        op0:"a) can't",
        op1:"b)  could",
        op2:"c) coudn't",
        correcta:"2"
    },
    {
        id: 47,
        pregunta:"Tonny ____ run fast when he was 10 years old.",
        op0:"a) can",
        op1:"b) was",
        op2:"c) could",
        correcta:"2"
    },
    {
        id: 48,
        pregunta: "This year, Jen __________ War and Peace.",
        op0: "a)  read",
        op1: "b) will read",
        op2:"c) reading",
        op3:"d) won't pay",
         correcta: "1"
    },
    {
        id:49,
        pregunta:"It_hard, but she's determined to do it.",
        op0:"a) will be",
        op1:"b) will been",
        op2:"c) be",
        op3:"d) is",
        correcta:"0"
    },
    {
        id: 50,
        pregunta:"_____ I _______ the discipline to study Spanish every day?",
        op0:"a) will/eat",
        op1:"b) have/you",
        op2:"c) will/have",
        op3:"d) is/have",
        correcta:"2",
    },
    {
        id: 51,
        pregunta:"What _____ you ______ with the money you found?",
        op0:"a) will/buy",
        op1:"b) will/not",
        op2:"c) won't/try",
        op3:"d) is/buy",
        correcta:"0",
    },
    {
        id:52,
        pregunta:"_______ until I've seen the manager!",
        op0:"a) won't see",
        op1:"b) going to",
        op2:"c) does leave",
        op3:"d) won't leave",
        correcta:"3"
    },
    {
        id: 53,
        pregunta: "Is your cousin _______ move to another apartment?",
        op0: "a) going",
        op1: "b) going to",
        op2:"c) will",
        op3:"d) will to",
         correcta: "1"
    },
    {
        id: 54,
        pregunta:"I _______ going to _____ my homework after I finish dinner.",
        op0:"a) am/do",
        op1:"b) am/doing",
        op2:"c) is/do",
        op3:"d) is/doing",
        correcta:"0",
    },
    {
        id: 55,
        pregunta:"______ your friend going to join us? Yes, she______.",
        op0:"a) is/is",
        op1:"b) is/will",
        op2:"c) will/is",
        op3:"d) is/going",
        correcta:"0"
    },
    {
        id: 56,
        pregunta:"We ______ going to ____ and see what happens before we make a decision.",
        op0:"a) are/going",
        op1:"b) is/is",
        op2:"c) will/going",
        op3:"d) are/wait",
        correcta:"0"
    },
    {
        id: 57,
        pregunta:" Jon _____ going to get a promotion this year.",
        op0:"a) isn't",
        op1:"b) aren't",
        op2:"c) won't",
        op3:"d) will",
        correcta:"0"
    },
    {
        id: 58,
        pregunta: "You _______ drink alcohol when you drive",
        op0: "a) don't have to",
        op1: "b) mustn't",
        op2:"c) can't",
        op3:"d) could't",
         correcta: "1"
    },
    {
        id:59,
        pregunta:"______ I have a coffe, please?",
        op0:"a) Would",
        op1:"b) Will",
        op2:"c) Should",
        op3:"d) Could",
        correcta:"3"
    },
    {
        id:60,
        pregunta:"You ________ smoke so much, it will be bad for your healt.",
        op0:"a) shouldn't",
        op1:"b) can't",
        op2:"c) would't",
        op3:"d) musn't",
        correcta:"0"
    },
    {
        id: 61,
        pregunta:"Lily _______ swim when she was six years old.",
        op0:"a) couldn't",
        op1:"b) shouldn't",
        op2:"c) musn't",
        op3:"d) can't",
        correcta:"0"
    },
    {
        id: 62,
        pregunta:"It ________ rain later.",
        op0:"a) might",
        op1:"b) can",
        op2:"c) should",
        op3:"d) has to",
        correcta:"0",
    },
    {
        id: 63,
        pregunta: "Have you ________ to a circus?",
        op0: "a) ever gone ",
        op1: "b) ever go",
        op2:"c) for gone  ",
        op3:"d) since go",
         correcta: "0"
    },
    {
        id:64,
        pregunta:"They have languages ________ 5 years",
        op0:"a) studied / since ",
        op1:"b) study / for",
        op2:"c) study / eve",
        op3:"d) studied / for",
        correcta:"3"
    },
    {
        id:65,
        pregunta:"He ________ drunk alchol",
        op0:"a) have / never",
        op1:"b) has / ever",
        op2:"c) has / never",
        op3:"d) have / for",
        correcta:"2"
    },
    {
        id: 66,
        pregunta: "it ________ rained here ________ march",
        op0:"a) hasn´t / ever ",
        op1:"b) hasn´t / since ",
        op2:"c) haven´t / never",
        op3:"d) haven´t / since",
        correcta:"1"
    },
    {
        id: 67,
        pregunta:"Have you ever ________ insects?",
        op0:"a) ate",
        op1:"b) eating",
        op2:"c) eat",
        op3:"d) eaten",
        correcta:"3",
    },
    {
        id: 68,
        pregunta: "If we ________ early, we will go to the cinema",
        op0: "a) finishes",
        op1: "b) finish",
        op2:"c) are finishing",
        op3:"d) will finish",
         correcta: "1"
    },
    {
        id:69,
        pregunta:"If he comes,I ________ go ",
        op0:"a) am going to",
        op1:"b) was going to",
        op2:"c) will",
        op3:"d) were",
        correcta:"2"
    },
    {
        id:70,
        pregunta:"If we ________ , we won´t be late.",
        op0:"a) hurry",
        op1:"b) hurries",
        op2:"c) happy",
        op3:"d) are going to hurries",
        correcta:"0"
    },
    {
        id: 71,
        pregunta: "If you don´t feel well, you ________ see a doctor.",
        op0:"a) are going to",
        op1:"b) was to ",
        op2:"c) must",
        op3:"d) doesn´t",
        correcta:"2"
    },
    {
        id: 72,
        pregunta: "It isn't too cold today, __________________?",
        op0: "a) is it",
        op1: "b) isn´t it",
        op2:"c) it is",
         correcta: "0"
    },
    {
        id: 73,
        pregunta: "She arrived too late, ____________________?",
        op0: "a) didn´t she",
        op1: "b) wasn´t she",
        op2:"c) did she",
         correcta: "0"
    },
    {
        id: 74,
        pregunta: " Your little Angie can't walk yet,____________________?",
        op0: "a) She can´t",
        op1: "b) can she",
        op2:"c) can´t she",
         correcta: "1"
    },
    {
        id: 75,
        pregunta: "When you arrived, she had already left, _______________?",
        op0: "a) hadn´t she",
        op1: "b) she didn´t",
        op2:"c) didn´t",
         correcta: "0"
    },
    {
        id: 76,
        pregunta: "I have a friend __________ speaks four languages.",
        op0: "a) which",
        op1: "b) that he",
        op2:"c) who",
         correcta: "2"
    },
    {
        id: 77,
        pregunta: "A technophobe is someone ___________ is scared of technology",
        op0: "a) that",
        op1: "b) which",
        op2:"c) where",
         correcta: "0"
    },
    {
        id: 78,
        pregunta: " We should only buy products ____________ can be recycled.",
        op0: "a) who",
        op1: "b) that",
        op2:"c) where",
         correcta: "1"
    },
    {
        id: 79,
        pregunta: "That's the shop ______________ I bought those shoes.",
        op0: "a) that",
        op1: "b) where",
        op2:"c) which",
         correcta: "1"
    },
    {
        id: 80,
        pregunta: "PAST SIMPLE: What is the correct past simple form of the verb to go?",
        op0: "a) gone",
        op1: "b) going",
        op2:"c) went",
         correcta: "2"
    },
    {
        id: 81,
        pregunta: "PAST PROGRESSIVE: Which sentence is in the past progressive tense?",
        op0: "a) I go to the store",
        op1: "b) I was going to the store",
        op2:"c)  I go to the store every day",
         correcta: "1"
    },
    {
        id: 82,
        pregunta: "PAST PERFECT: Choose the sentence that correctly uses the past perfect tense.",
        op0: "a)  She will finish her work before dinner",
        op1: "b) She finishes her work before dinner",
        op2:"c) She had finished her work before dinner",
         correcta: "2"
    },
    {
        id: 83,
        pregunta: "2nd CONDITIONAL: If I ___________ more time, I would have finished the project.",
        op0: "a) have",
        op1: "b) has",
        op2:"c) had",
         correcta: "2"
    },
    {
        id: 84,
        pregunta: " 3rd CONDITIONAL: What is the correct form of the 3rd conditional for this sentence?  If I ____________ you, I would have apologized.",
        op0: "a) am ",
        op1: "b) was",
        op2:"c) were",
         correcta: "2"
    },
    {
        id: 85,
        pregunta: ". Modals: Which modal verb is used for expressing obligation?",
        op0: "a) must",
        op1: "b) could",
        op2:"c) would",
         correcta: "0"
    },
    {
        id: 86,
        pregunta: ". Phrasal Verbs: I decided to abandon my old unhealthy habits and start exercising regularly",
        op0: "a) give in",
        op1: "b) give off",
        op2:"c) give up",
         correcta: "2"
    },
    {
        id: 87,
        pregunta: " Present Perfect: Which sentence uses the present perfect tense correctly?",
        op0: "a)  I studied yesterday",
        op1: "b)  I have studied for the exam ",
        op2:"c) I study every day",
         correcta: "1"
    },
    {
        id: 88,
        pregunta: " Passive Voice: In passive voice, the object of the sentence becomes the ___________.",
        op0: "a) subject",
        op1: "b) verb",
        op2:"c) adverb",
         correcta: "0"
    },
    {
        id: 89,
        pregunta: "Predictions with may and might:Choose the correct sentence using may for predictions.",
        op0: "a) He may have lunch with us",
        op1: "b) He might have lunch with us ",
        op2:"c) He may lunch with us",
         correcta: "0"
    },
    {
        id: 90,
        pregunta: "PAST SIMPLE: What is the correct past simple form of the verb to swim?",
        op0: "a) swimmed",
        op1: "b) swam",
        op2:"c) swum",
         correcta: "1"
    },
    {
        id: 91,
        pregunta: "PRESENT PERFECT: Which sentence correctly uses the present perfect tense?",
        op0: "a) I have visited Paris last year",
        op1: "b)  I visited Paris last year",
        op2:"c)  I have visited Paris before.",
         correcta: "2"
    },
    {
        id: 92,
        pregunta: "2nd CONDITIONAL: If she _________ English, she could have applied for the job.",
        op0: "a) knows",
        op1: "b) known",
        op2:"c) knowing",
         correcta: "0"
    },
    {
        id: 93,
        pregunta: " MODALS: Choose the modal verb for giving advice.",
        op0: "a) should",
        op1: "b)would ",
        op2:"c) might",
         correcta: "0"
    },
    {
        id: 94,
        pregunta: "PHRASAL VERBS: Which phrasal verb means to start something?",
        op0: "a) break up",
        op1: "b) bring up",
        op2:"c) bring about",
         correcta: "1"
    },
    {
        id: 95,
        pregunta: "PRESENT PERFECT: What is the correct form of the present perfect for the sentence? She ____________ her keys.",
        op0: "a) have lost",
        op1: "b) had lost",
        op2:"c) has lost",
         correcta: "2"
    },
    {
        id: 96,
        pregunta: "PAST PROGRESSIVE: What is the correct past progressive form of the verb to eat?",
        op0: "a) eating",
        op1: "b) ate",
        op2:"c) eats",
         correcta: "0"
    },
    {
        id: 97,
        pregunta: "PASSIVE VOICE: In passive voice, the agent performing the action is often preceded by the preposition ___________.",
        op0: "a) with",
        op1: "b) by",
        op2:"c) in",
         correcta: "1"
    },
    {
        id: 98,
        pregunta: "PREDICTIONS WITH MIGHT: Which sentence expresses a possibility using might?",
        op0: "a)  She might go to the party if she finishes her work.",
        op1: "b) She might went to the party last night.",
        op2:"c)  She might go to the party after finishing her work.",
         correcta: "0"
    },

    {
        id: 99,
        pregunta: "MODALS: Choose the correct modal verb for expressing a strong obligation.",
        op0: "a) can",
        op1: "b) must",
        op2: "c) may",
        correcta: "1"
    },
    {
        id: 100,
        pregunta: "SCRIPT 1",
        audio: "audio1.mp3",
        op0: "a) Tom is not in.",
        op1: "b) Sarah is not there.",
        op2: "c) Sarah called Tom.",
        op3: "d) Tom called Sarah.",
        correcta: "1",
    },
    {
        id: 101,
        pregunta: "SCRIPT 2",
        audio: "audio2.mp3",
        op0: "a) The tour is about modern civilizations",
        op1: "b) The exhibit is about recent artifacts.",
        op2: "c) The museum is closed.",
        op3: "d) Ancient civilizations left artifacts.",
        correcta: "3",
    },
    {
        id: 102,
        pregunta: "SCRIPT 3",
        audio: "audio3.mp3",
        op0: "a) The woman doesn't like the new restaurant.",
        op1: "b) The man should avoid the new restaurant.",
        op2: "c) The woman recommends trying the new restaurant.",
        correcta: "2",
    },
    {
        id: 103,
        pregunta: "SCRIPT 4",
        audio: "audio4.mp3",
        op0: "a) The sale is at ABC Electronics.",
        op1: "b) The sale is only on old gadgets.",
        op2: "c) The sale is next month.",
        op3: "d) The sale is on this weekend.",
        correcta: "3",
    },
    {
        id: 104,
        pregunta: "SCRIPT 5",
        audio: "audio5.mp3",
        op0: "a) The candidate has no experience in project management.",
        op1: "b) The candidate's project was late and over budget.",
        op2: "c) The candidate led a successful project in the past.",
        correcta: "1",
    },
     {
            id: 106,
            pregunta: "What was the weather like during the day in the park?",
            op0: "a) Rainy",
            op1: "b) Cloudy",
            op2:"c) Sunny with a gentle breeze",
            op3:"d) Windy",
             correcta: "2"
        },
        {
            id: 107,
            pregunta: "What did the group do when they first entered the park?",
            op0: "a) Played frisbee",
            op1: "b) Had a picnic",
            op2:"c) Flew kites",
            op3:"d) Listened to music",
             correcta: "1"
        },
        {
            id: 108,
            pregunta: " What did the group observe while having their picnic?",
            op0: "a) People playing frisbee",
            op1: "b)  Musicians playing sad tunes",
            op2:"c) Families enjoying the day",
            op3:"d) Ducks swimming in the lake",
             correcta: "2"
        },
        {
            id: 109,
            pregunta: "What added to the joyful atmosphere in the park?",
            op0: "a) Rain",
            op1: "b) Sad music",
            op2:"c) Cheerful tunes played by musicians",
            op3:"d)  Silent surroundings",
             correcta: "2"
        },
        {
            id: 110,
            pregunta: "How did the day end for the group in the park?",
            op0: "a) They stayed overnight",
            op1: "b) They explored the park further",
            op2:"c) They joined a group of musicians",
            op3:"d) They gathered their belongings and headed home",
             correcta: "3"
        },
        
    
];

let respuestas = [];
let cantiCorrectas = 0;

// Cargar preguntas dinámicamente
function cargarPreguntas() {
    const contenedorJuego = document.getElementById("juego");

    // Limpiar el contenedor por si ya había preguntas cargadas previamente
    contenedorJuego.innerHTML = "";

    // Recorrer la base de datos y crear los elementos de las preguntas
    bd_juego.forEach((pregunta, index) => {
        const contenedor = document.createElement("div");
        contenedor.className = "contenedor-pregunta";
        contenedor.id = "pregunta-" + pregunta.id;

        const h2 = document.createElement("h2");
        h2.textContent = `${index + 1} - ${pregunta.pregunta}`;
        contenedor.appendChild(h2);

        // Verificar si la pregunta tiene un archivo de audio
        if (pregunta.audio) {
            const audio = document.createElement("audio");
            audio.controls = true;
            audio.src = pregunta.audio;
            audio.style.display = "block"; // Mostrarlo correctamente
            contenedor.appendChild(audio);
        }

        const opciones = document.createElement("div");
        opciones.className = "opciones";

        // Determinar dinámicamente cuántas opciones tiene la pregunta
        for (let i = 0; i < 4; i++) {
            if (pregunta[`op${i}`]) { // Verificar si la opción existe
                const label = crearLabel(index, i, pregunta[`op${i}`]);
                opciones.appendChild(label);
            }
        }

        contenedor.appendChild(opciones);

        // Insertar el texto "A Day in the Park" antes de la pregunta 106
        if (pregunta.id === 106) {
            const textoParque = document.createElement("div");
            textoParque.className = "texto-parque";
            textoParque.innerHTML = `
                <h3>A Day in the Park</h3>
                <p>Last Sunday, my friends and I decided to spend a relaxing day in the park. The weather 
                was perfect, with clear skies and a gentle breeze. As we entered the park, we were 
                greeted by the sound of children laughing and playing.</p>
                <p>We found a cozy spot under a large oak tree and laid out a picnic blanket. The aroma 
                of freshly cut grass and blooming flowers filled the air. Everyone brought something to 
                share, from sandwiches to fruit salads and refreshing drinks.</p>
                <p>While we enjoyed our picnic, we observed families having a great time – kids flying kites, 
                couples taking leisurely strolls, and people simply soaking up the sun. A group of 
                musicians set up nearby, playing cheerful tunes that added to the joyful atmosphere.</p>
                <p>As the day progressed, we decided to explore the park further. There was a beautiful 
                lake with ducks swimming peacefully. The walking paths were lined with colorful flowers, 
                creating a picturesque scene. We even joined in a friendly game of frisbee with a group 
                of strangers, making new acquaintances.</p>
                <p>As the sun began to set, we gathered our belongings and headed home. It was a day 
                filled with laughter, good food, and the simple pleasures of nature. We all agreed that 
                the park is a wonderful place to escape the hustle and bustle of daily life.</p>
            `;
            contenedorJuego.appendChild(textoParque);
        }

        contenedorJuego.appendChild(contenedor);
    });
}

function crearLabel(numPregunta, numOpcion, txtOpcion) {
    const label = document.createElement("label");

    const input = document.createElement("input");
    input.type = "radio";
    input.name = `p${numPregunta}`; // Cada pregunta tiene un grupo único
    input.value = numOpcion;

    // Usar closure para asociar correctamente la pregunta y la opción
    input.onclick = () => seleccionar(numPregunta, numOpcion);

    const span = document.createElement("span");
    span.textContent = txtOpcion;

    label.appendChild(input);
    label.appendChild(span);
    return label;
}

// Guardar la respuesta seleccionada
function seleccionar(pos, opElegida) {
    respuestas[pos] = opElegida;
    console.log(`Respuesta seleccionada para la pregunta ${pos}: ${opElegida}`);
}

// Calcular resultados correctos
function calcularResultados() {
    cantiCorrectas = 0; // Reinicia los aciertos

    bd_juego.forEach((pregunta, index) => {
        console.log(`Pregunta ${index}: Correcta: ${pregunta.correcta}, Elegida: ${respuestas[index]}`);

        if (pregunta.correcta == respuestas[index]) {
            cantiCorrectas++;
        }
    });

    document.getElementById("aciertos").value = cantiCorrectas; // Mostrar el total
    console.log(`Total respuestas correctas: ${cantiCorrectas}`);
}

// Verificar que todas las preguntas estén respondidas
function verificarRespuestas() {
    for (let i = 0; i < bd_juego.length; i++) {
        if (respuestas[i] === undefined) {
            alert(`Por favor, responde la pregunta ${i + 1}.`);
            return false;
        }
    }
    return true;
}

// Manejo del botón "Enviar Resultados"
document.addEventListener("DOMContentLoaded", function () {
    // Cargar preguntas al iniciar
    cargarPreguntas();

    const boton = document.getElementById("enviarResultados");
    if (!boton) {
        console.error('El botón "enviarResultados" no existe en el DOM.');
        return;
    }

    boton.onclick = async function () {
        if (!verificarRespuestas()) {
            return; // Detener si hay preguntas sin responder
        }

        calcularResultados();

        const userName = document.getElementById("nombre").value.trim();
        const userGroup = document.getElementById("grupo").value.trim();

        if (!userName || !userGroup) {
            alert("Por favor, completa todos los campos.");
            return;
        }

        const data = { nombre: userName, grupo: userGroup, aciertos: cantiCorrectas };
        localStorage.setItem("userName", userName);
        localStorage.setItem("userGroup", userGroup);
        localStorage.setItem("cantiCorrectas", cantiCorrectas);

        console.log("Enviando datos:", data);

        try {
            const response = await fetch("http://localhost:3000/resultados", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data),
            });

            if (response.ok) {
                alert("Resultados enviados correctamente.");
            } else {
                alert("Hubo un error al enviar los resultados.");
            }
        } catch (error) {
            alert("Hasta pronto");
        }
    };
});
